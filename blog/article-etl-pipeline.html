<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Applying Industrial ETL to Personal Health: The VITA Pipeline | VITA Devices</title>
    <meta name="description" content="A robotics engineer's approach: How warehouse logistics principles transformed health tracking. Our honest ETL pipeline from speech to SQLAlchemy—no marketing fluff.">
    
    <!-- Open Graph for Social Sharing -->
    <meta property="og:title" content="Applying Industrial ETL to Personal Health: The VITA Pipeline">
    <meta property="og:description" content="A robotics engineer's approach: How warehouse logistics principles transformed health tracking.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://vitadevices.com/article-etl-pipeline.html">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            /* Color Palette - Consistent with blog */
            --primary: #2D736F;
            --primary-light: #3F8C87;
            --primary-dark: #1A5552;
            --accent: #FF9E4A;
            --background: #FAF9F7;
            --surface: #FFFFFF;
            --text-primary: #1A1A1A;
            --text-secondary: #5A5A5A;
            --text-light: #8A8A8A;
            --border: #E5E5E5;
            --shadow: rgba(0, 0, 0, 0.05);
            
            /* Typography */
            --font-heading: 'Poppins', 'Inter', -apple-system, sans-serif;
            --font-body: 'Inter', -apple-system, sans-serif;
            
            /* Spacing */
            --space-xs: 0.5rem;
            --space-sm: 1rem;
            --space-md: 2rem;
            --space-lg: 3rem;
            --space-xl: 4rem;
            
            /* Border Radius */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            
            /* Transitions */
            --transition-fast: 150ms ease;
            --transition-normal: 250ms ease;
            
            /* Article specific */
            --content-width: 720px;
            --sidebar-width: 280px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }
        
        body {
            font-family: var(--font-body);
            font-size: 16px;
            line-height: 1.7;
            color: var(--text-primary);
            background-color: var(--background);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: var(--space-md);
        }
        
        h1 {
            font-size: 2.75rem;
            letter-spacing: -0.5px;
            line-height: 1.1;
        }
        
        h2 {
            font-size: 2rem;
            letter-spacing: -0.3px;
            margin-top: var(--space-xl);
            position: relative;
        }
        
        h2:before {
            content: "";
            position: absolute;
            left: 0;
            top: -0.5rem;
            width: 40px;
            height: 3px;
            background-color: var(--primary);
        }
        
        h3 {
            font-size: 1.5rem;
            margin-top: var(--space-lg);
        }
        
        h4 {
            font-size: 1.25rem;
            margin-top: var(--space-md);
            color: var(--text-secondary);
        }
        
        p {
            margin-bottom: var(--space-md);
            color: var(--text-secondary);
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-md);
        }
        
        section {
            padding: var(--space-xl) 0;
        }
        
        /* Header - Consistent with blog */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--surface);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-family: var(--font-heading);
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary);
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            gap: var(--space-lg);
            align-items: center;
        }
        
        .nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            transition: color var(--transition-fast);
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .nav-links a.active {
            color: var(--primary);
            font-weight: 600;
        }
        
        .nav-btn {
            padding: 0.5rem 1.25rem;
            background-color: var(--primary);
            color: white;
            border-radius: var(--radius-sm);
            font-size: 0.9rem;
            transition: background-color var(--transition-fast);
        }
        
        .nav-btn:hover {
            background-color: var(--primary-light);
        }
        
        /* Article Hero */
        .article-hero {
            padding-top: 6rem;
            padding-bottom: var(--space-md);
            background-color: var(--surface);
            border-bottom: 1px solid var(--border);
        }
        
        .article-header {
            max-width: var(--content-width);
            margin: 0 auto;
        }
        
        .article-meta {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            margin-bottom: var(--space-sm);
        }
        
        .article-date {
            font-size: 0.95rem;
            color: var(--text-light);
            font-weight: 500;
        }
        
        .article-category {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--primary);
            padding: 0.25rem 0.75rem;
            background-color: rgba(45, 115, 111, 0.1);
            border-radius: var(--radius-full);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .article-title {
            margin-bottom: var(--space-sm);
        }
        
        .article-subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            font-weight: 400;
            line-height: 1.5;
            margin-bottom: var(--space-lg);
        }
        
        .article-stats {
            display: flex;
            gap: var(--space-lg);
            padding-top: var(--space-md);
            border-top: 1px solid var(--border);
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* Article Content */
        .article-content-container {
            display: grid;
            grid-template-columns: 1fr var(--sidebar-width);
            gap: var(--space-lg);
            align-items: start;
        }
        
        @media (max-width: 900px) {
            .article-content-container {
                grid-template-columns: 1fr;
            }
        }
        
        .article-content {
            max-width: var(--content-width);
            margin: 0 auto;
        }
        
        .article-body {
            font-size: 1.125rem;
            line-height: 1.8;
        }
        
        .article-body p {
            margin-bottom: var(--space-md);
        }
        
        .article-body p.lead {
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--space-lg);
        }
        
        .article-body blockquote {
            border-left: 3px solid var(--primary);
            padding-left: var(--space-md);
            margin: var(--space-lg) 0;
            font-style: italic;
            color: var(--text-secondary);
            font-size: 1.25rem;
        }
        
        .article-body ul, .article-body ol {
            margin-left: var(--space-md);
            margin-bottom: var(--space-md);
            color: var(--text-secondary);
        }
        
        .article-body li {
            margin-bottom: 0.5rem;
        }
        
        .article-body a {
            color: var(--primary);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color var(--transition-fast);
        }
        
        .article-body a:hover {
            border-bottom: 1px solid var(--primary);
        }
        
        .highlight-box {
            background-color: rgba(45, 115, 111, 0.05);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            margin: var(--space-lg) 0;
            border-left: 4px solid var(--primary);
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: var(--space-lg) 0;
            box-shadow: 0 4px 12px var(--shadow);
            border-radius: var(--radius-md);
            overflow: hidden;
        }
        
        .comparison-table th {
            background-color: var(--primary);
            color: white;
            text-align: left;
            padding: 1rem;
            font-weight: 600;
        }
        
        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
        }
        
        .comparison-table tr:last-child td {
            border-bottom: none;
        }
        
        .comparison-table tr:nth-child(even) {
            background-color: rgba(45, 115, 111, 0.03);
        }
        
        .comparison-table .vita-check {
            color: var(--primary);
            font-weight: 600;
        }
        
        .comparison-table .vita-cross {
            color: #DC2626;
            font-weight: 600;
        }
        
        .figure-container {
            margin: var(--space-lg) 0;
            text-align: center;
        }
        
        .figure-img {
            max-width: 100%;
            border-radius: var(--radius-md);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }
        
        .figure-caption {
            font-size: 0.875rem;
            color: var(--text-light);
            margin-top: var(--space-xs);
            font-style: italic;
        }
        
        /* Pipeline diagram */
        .pipeline-diagram {
            background-color: rgba(45, 115, 111, 0.05);
            border-radius: var(--radius-md);
            padding: var(--space-md);
            margin: var(--space-lg) 0;
        }
        
        .pipeline-stage {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            margin-bottom: var(--space-md);
            padding: var(--space-md);
            background-color: var(--surface);
            border-radius: var(--radius-md);
            border: 1px solid var(--border);
        }
        
        .stage-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.25rem;
            flex-shrink: 0;
        }
        
        .stage-content {
            flex: 1;
        }
        
        .stage-title {
            color: var(--primary);
            margin-bottom: var(--space-xs);
            font-size: 1.125rem;
        }
        
        .stage-arrow {
            color: var(--primary);
            font-size: 1.5rem;
            margin: 0 var(--space-sm);
            text-align: center;
        }
        
        /* Code block styling */
        .code-block {
            background-color: #1a1a1a;
            border-radius: var(--radius-md);
            padding: var(--space-md);
            margin: var(--space-lg) 0;
            overflow-x: auto;
            color: #f8f8f2;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .code-comment {
            color: #6a9955;
        }
        
        .code-keyword {
            color: #569cd6;
        }
        
        .code-function {
            color: #dcdcaa;
        }
        
        .code-string {
            color: #ce9178;
        }
        
        .code-number {
            color: #b5cea8;
        }
        
        /* Honesty Box */
        .honesty-box {
            background-color: rgba(255, 158, 74, 0.05);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            margin: var(--space-lg) 0;
            border-left: 4px solid var(--accent);
        }
        
        .honesty-box h4 {
            color: var(--accent);
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }
        
        /* Article Sidebar */
        .article-sidebar {
            position: sticky;
            top: 6rem;
        }
        
        .sidebar-section {
            background-color: var(--surface);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            border: 1px solid var(--border);
            margin-bottom: var(--space-lg);
        }
        
        .sidebar-section h3 {
            font-size: 1.125rem;
            margin-bottom: var(--space-md);
            color: var(--text-primary);
        }
        
        .author-card {
            display: flex;
            gap: var(--space-sm);
            align-items: center;
        }
        
        .author-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .author-info h4 {
            margin-bottom: 0.25rem;
            font-size: 1rem;
        }
        
        .author-info p {
            margin-bottom: 0;
            font-size: 0.875rem;
            color: var(--text-light);
        }
        
        .toc {
            list-style: none;
        }
        
        .toc li {
            margin-bottom: 0.75rem;
            position: relative;
        }
        
        .toc li:before {
            content: "";
            position: absolute;
            left: 0;
            top: 0.5rem;
            width: 8px;
            height: 8px;
            background-color: var(--primary);
            border-radius: 50%;
            opacity: 0.5;
        }
        
        .toc a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.95rem;
            margin-left: 1.25rem;
            display: block;
            transition: color var(--transition-fast);
        }
        
        .toc a:hover {
            color: var(--primary);
        }
        
        .share-buttons {
            display: flex;
            gap: 0.75rem;
            margin-top: var(--space-md);
        }
        
        .share-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--background);
            color: var(--text-secondary);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px var(--shadow);
        }
        
        .share-btn.twitter:hover {
            background-color: #1DA1F2;
            color: white;
            border-color: #1DA1F2;
        }
        
        .share-btn.linkedin:hover {
            background-color: #0077B5;
            color: white;
            border-color: #0077B5;
        }
        
        .share-btn.link:hover {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        /* Article Navigation */
        .article-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: var(--space-xl);
            padding-top: var(--space-lg);
            border-top: 1px solid var(--border);
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            color: var(--text-primary);
            text-decoration: none;
            max-width: 45%;
            padding: var(--space-sm);
            border-radius: var(--radius-md);
            transition: background-color var(--transition-fast);
        }
        
        .nav-item:hover {
            background-color: rgba(45, 115, 111, 0.05);
        }
        
        .nav-prev {
            text-align: left;
        }
        
        .nav-next {
            text-align: right;
        }
        
        .nav-arrow {
            color: var(--primary);
            font-size: 1.25rem;
        }
        
        .nav-label {
            font-size: 0.875rem;
            color: var(--text-light);
            margin-bottom: 0.25rem;
        }
        
        .nav-title {
            font-weight: 500;
            font-size: 0.95rem;
        }
        
        /* Newsletter Section */
        .newsletter-section {
            background-color: var(--surface);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            border: 1px solid var(--border);
            margin-top: var(--space-xl);
        }
        
        .newsletter-content {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }
        
        .newsletter-content h2 {
            margin-bottom: var(--space-sm);
        }
        
        .newsletter-content p {
            margin-bottom: var(--space-md);
        }
        
        .newsletter-form {
            display: flex;
            gap: var(--space-sm);
            max-width: 400px;
            margin: 0 auto;
        }
        
        .newsletter-form input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            font-family: var(--font-body);
            font-size: 0.95rem;
            transition: border-color var(--transition-fast);
        }
        
        .newsletter-form input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .newsletter-form button {
            padding: 0.75rem 1.5rem;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius-sm);
            font-family: var(--font-body);
            font-weight: 600;
            cursor: pointer;
            transition: background-color var(--transition-fast);
        }
        
        .newsletter-form button:hover {
            background-color: var(--primary-light);
        }
        
        /* Footer */
        footer {
            background-color: var(--primary-dark);
            color: white;
            padding: var(--space-xl) 0 var(--space-lg);
            margin-top: var(--space-xl);
        }
        
        .footer-container {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: var(--space-lg);
        }
        
        .footer-logo {
            font-family: var(--font-heading);
            font-weight: 700;
            font-size: 1.5rem;
            color: white;
            margin-bottom: var(--space-sm);
        }
        
        .footer-links {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-size: 0.95rem;
            transition: color var(--transition-fast);
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .footer-copyright {
            width: 100%;
            text-align: center;
            margin-top: var(--space-lg);
            padding-top: var(--space-lg);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.875rem;
        }
        
        /* Mobile Menu */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.25rem;
            color: var(--primary);
            cursor: pointer;
            padding: 0.5rem;
        }
        
        .mobile-nav {
            display: none;
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            background-color: var(--surface);
            border-bottom: 1px solid var(--border);
            padding: var(--space-md);
            z-index: 999;
            box-shadow: 0 4px 12px var(--shadow);
        }
        
        .mobile-nav.active {
            display: block;
        }
        
        .mobile-nav a {
            display: block;
            padding: 0.75rem 0;
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid var(--border);
        }
        
        .mobile-nav a:last-child {
            border-bottom: none;
        }
        
        .mobile-nav .nav-btn {
            display: inline-block;
            margin-top: var(--space-sm);
            padding: 0.75rem 1.5rem;
            text-align: center;
        }
        
        /* Back to top button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-normal);
            z-index: 999;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            background-color: var(--primary-light);
            transform: translateY(-3px);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.25rem;
            }
            
            h2 {
                font-size: 1.75rem;
            }
            
            h3 {
                font-size: 1.375rem;
            }
            
            .article-body {
                font-size: 1.0625rem;
            }
            
            section {
                padding: var(--space-lg) 0;
            }
            
            .article-hero {
                padding-top: 5rem;
            }
            
            .article-stats {
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .newsletter-form {
                flex-direction: column;
            }
            
            .article-navigation {
                flex-direction: column;
                gap: var(--space-md);
            }
            
            .nav-item {
                max-width: 100%;
            }
            
            /* Hide desktop nav on mobile */
            .nav-links {
                display: none;
            }
            
            /* Show mobile menu toggle on mobile */
            .mobile-menu-toggle {
                display: block;
            }
            
            .footer-container {
                flex-direction: column;
                text-align: center;
            }
            
            .footer-links {
                align-items: center;
            }
            
            .pipeline-stage {
                flex-direction: column;
                text-align: center;
            }
            
            .stage-arrow {
                transform: rotate(90deg);
                margin: var(--space-sm) 0;
            }
        }
        
        @media (min-width: 769px) {
            .mobile-menu-toggle,
            .mobile-nav {
                display: none;
            }
            
            .nav-links {
                display: flex;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 0 var(--space-sm);
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .sidebar-section {
                padding: var(--space-md);
            }
        }
    </style>
</head>
<body>
    <!-- Header - Consistent with blog -->
    <header>
        <div class="container header-container">
            <a href="../index.html" class="logo">VITA</a>
            
            <!-- Desktop Navigation -->
            <div class="nav-links">
                <a href="../index.html">Home</a>
                <a href="../blog.html">Blog</a>
                <a href="../contact.html">Contact</a>
                <a href="../privacy.html">Privacy</a>
                <a href="../index.html#founding-members" class="nav-btn">Become a Member</a>
            </div>
            
            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <!-- Mobile Navigation -->
        <div class="mobile-nav" id="mobileNav">
            <a href="../index.html">Home</a>
            <a href="../blog.html">Blog</a>
            <a href="../contact.html">Contact</a>
            <a href="../privacy.html">Privacy</a>
            <a href="../index.html#founding-members" class="nav-btn">Become a Member</a>
        </div>
    </header>

    <!-- Article Hero -->
    <section class="article-hero">
        <div class="container">
            <div class="article-header">
                <div class="article-meta">
                    <span class="article-date">December 1, 2025</span>
                    <span class="article-category">Engineering</span>
                </div>
                <h1 class="article-title">Applying Industrial ETL to Personal Health: The VITA Pipeline</h1>
                <p class="article-subtitle">From warehouse logistics to body fueling: How a robotics engineer spent a year mastering nutrient science to build what others couldn't. Our honest ETL pipeline from speech to SQLAlchemy—no marketing fluff.</p>
                <div class="article-stats">
                    <div class="stat-item">
                        <i class="far fa-clock"></i>
                        <span>14 min read</span>
                    </div>
                    <div class="stat-item">
                        <i class="far fa-eye"></i>
                        <span id="viewCount">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Article Content -->
    <section>
        <div class="container article-content-container">
            <!-- Main Article Content -->
            <div class="article-content">
                <article class="article-body">
                    <p class="lead">After 2 years optimizing autonomous robots and 1 year in warehouse automation, I realized human nutrition is just another logistics problem. We're moving molecules from plate to cells. So I spent a year mastering nutrient science to build what others couldn't—a system that gets you to the top 1% of physical performance through precision, not guesswork.</p>
                    
                    <h2 id="logistics-biology">From Warehouse Logistics to Biological Optimization</h2>
                    
                    <p>In warehouse management, you track SKUs, routes, and throughput. In nutrition, you track proteins, carbs, and micronutrients. Both are inventory management problems. The difference? Nutrition data is 10x more chaotic than any warehouse database.</p>
                    
                    <div class="honesty-box">
                        <h4><i class="fas fa-microchip"></i> Engineering Disclosure</h4>
                        <p>As a robotics engineer, I value transparency. While our 2027 roadmap leads to 100% local processing, VITA currently utilizes a <strong>Stateless Anonymous Bridge</strong>. We use online LLMs to parse your data, but we strip your identity first. The cloud sees the food; it never sees the person.</p>
                    </div>
                    
                    <p>Traditional nutrition apps fail because they treat data as static. But in logistics, you know that:</p>
                    
                    <ul>
                        <li><strong>An "apple" varies by +30% in weight</strong> depending on variety and season</li>
                        <li><strong>Chicken protein ranges +25%</strong> based on feed and cooking method</li>
                        <li><strong>Spinach iron bioavailability changes +300%</strong> when eaten with vitamin C</li>
                    </ul>
                    
                    <p>I built VITA's ETL pipeline because after optimizing warehouse throughput, I realized my own body was the most complex system I'd ever worked with. And complex systems need precise inputs.</p>
                    
                    <h2 id="the-pipeline">The VITA ETL Pipeline: Industrial Principles, Personal Application</h2>
                    
                    <p>Our pipeline applies warehouse-grade ETL to your personal biology:</p>
                    
                    <div class="pipeline-diagram">
                        <div class="pipeline-stage">
                            <div class="stage-number">1</div>
                            <div class="stage-content">
                                <div class="stage-title">Extract: The Anonymous Bridge Protocol</div>
                                <p>Local speech-to-text, then anonymized LLM parsing via our Stateless Anonymous Bridge. We strip PII, send generic strings.</p>
                            </div>
                        </div>
                        
                        <div class="stage-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        
                        <div class="pipeline-stage">
                            <div class="stage-number">2</div>
                            <div class="stage-content">
                                <div class="stage-title">Transform: Nutrient Normalization Engine</div>
                                <p>Applying logistics-grade standardization to messy biological data. Cooking losses, seasonal variations, bioavailability adjustments.</p>
                            </div>
                        </div>
                        
                        <div class="stage-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        
                        <div class="pipeline-stage">
                            <div class="stage-number">3</div>
                            <div class="stage-content">
                                <div class="stage-title">Load: Local SQLAlchemy Persistence</div>
                                <p>Writing to user-owned init.sql schema via local Database connection. Your data stays in your "local warehouse"—not our servers.</p>
                            </div>
                        </div>
                    </div>
                    
                    <h2 id="stage1-extract">Stage 1: Extract - The Anonymous Bridge Protocol</h2>
                    
                    <div class="highlight-box">
                        <h4>The Honest Phase 1</h4>
                        <p>Let's be transparent: While our goal is 100% local AI, Phase 1 uses an <strong>Anonymized Cloud Bridge</strong>. Here's exactly what happens:</p>
                        <p><strong>What we send:</strong> Generic text strings like "Extract nutrients from: 200g grilled chicken breast"</p>
                        <p><strong>What we NEVER send:</strong> User ID, location, timestamps, health conditions, or any personal metadata</p>
                        <p>We strip all identity locally. The cloud sees food; it never sees the person.</p>
                    </div>
                    
                    <h3>Voice to Text (On-Device)</h3>
                    <p>Your voice converts to text locally. Nothing leaves your device at this stage.</p>
                    
                    <div class="code-block">
                        <span class="code-comment"># Local speech processing - no cloud dependency</span><br>
                        <span class="code-keyword">def</span> <span class="code-function">process_speech_locally</span>(audio_buffer):<br>
                        &nbsp;&nbsp;<span class="code-comment"># On-device Whisper model</span><br>
                        &nbsp;&nbsp;text = local_whisper_model.<span class="code-function">transcribe</span>(audio_buffer)<br>
                        &nbsp;&nbsp;<br>
                        &nbsp;&nbsp;<span class="code-comment"># IMMEDIATELY discard audio</span><br>
                        &nbsp;&nbsp;<span class="code-keyword">del</span> audio_buffer<br>
                        &nbsp;&nbsp;<span class="code-keyword">return</span> text  <span class="code-comment"># "I ate two eggs and toast"</span>
                    </div>
                    
                    <h3>Anonymized Entity Extraction</h3>
                    <p>Here's where we use the Anonymous Bridge:</p>
                    
                    <div class="code-block">
                        <span class="code-comment"># The Anonymous Bridge Protocol - Phase 1 honesty</span><br>
                        <span class="code-keyword">def</span> <span class="code-function">extract_entities_anonymously</span>(text):<br>
                        &nbsp;&nbsp;<span class="code-comment"># Step 1: Strip all personal metadata locally</span><br>
                        &nbsp;&nbsp;clean_text = strip_personal_metadata(text)<br>
                        &nbsp;&nbsp;<span class="code-comment"># Result: "Extract nutrients from: two eggs, toast"</span><br>
                        &nbsp;&nbsp;<br>
                        &nbsp;&nbsp;<span class="code-comment"># Step 2: Send stateless, anonymous request</span><br>
                        &nbsp;&nbsp;response = send_to_llm_bridge(clean_text)<br>
                        &nbsp;&nbsp;<span class="code-comment"># No user ID attached, no session tracking</span><br>
                        &nbsp;&nbsp;<br>
                        &nbsp;&nbsp;<span class="code-keyword">return</span> parse_response(response)
                    </div>
                    
                    <p>The LLM processes generic text and returns structured entities. No conversation history, no user profile, no tracking.</p>
                    
                    <h2 id="stage2-transform">Stage 2: Transform - Nutrient Normalization Engine</h2>
                    
                    <p>This is where warehouse logistics meet nutrient science. We don't just look up values—we engineer them based on biochemical truth.</p>
                    
                    <h3>Logistics-Grade Standardization</h3>
                    <p>In warehouses, you standardize units and conditions. We do the same with nutrients:</p>
                    
                    <ul>
                        <li><strong>Cooking loss matrices:</strong> Boiled vegetables lose 50% vitamin C vs 15% for steamed</li>
                        <li><strong>Seasonal normalization:</strong> Winter tomatoes have 30% less lycopene</li>
                        <li><strong>Bioavailability adjustments:</strong> Plant iron absorption = 2-20%, animal iron = 15-35%</li>
                        <li><strong>Portion intelligence:</strong> Your "handful" calibrated to your actual hand size</li>
                    </ul>
                    
                    <div class="figure-container">
                        <div style="max-width: 600px; margin: 0 auto; background-color: rgba(45, 115, 111, 0.05); border-radius: var(--radius-md); padding: var(--space-md);">
                            <h3 style="text-align: center; color: var(--primary); margin-top: 0;">The Normalization Engine in Action</h3>
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Raw Input</th>
                                        <th>Traditional Apps</th>
                                        <th>VITA Normalized</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>"Spinach salad"</td>
                                        <td>Raw spinach data</td>
                                        <td>Steamed spinach (based on context) + vitamin C dressing boost</td>
                                    </tr>
                                    <tr>
                                        <td>"Chicken breast"</td>
                                        <td>Generic chicken values</td>
                                        <td>Grilled, skinless, pasture-raised (+15% omega-3)</td>
                                    </tr>
                                    <tr>
                                        <td>"Apple in January"</td>
                                        <td>Standard apple</td>
                                        <td>Cold-stored (-20% vitamin C), imported variety</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="figure-caption">Traditional apps use static data. We engineer accurate values.</p>
                    </div>
                    
                    <h3>Under the Hood: The Engineering</h3>
                    <p>Our normalization engine weights data sources dynamically:</p>
                    
                    <div class="code-block">
                        <span class="code-comment"># How we weight nutrient sources (like warehouse sourcing)</span><br>
                        nutrient_value = (<br>
                        &nbsp;&nbsp;usda_value * weight_methodology(<span class="code-string">"lab_analysis"</span>) +<br>
                        &nbsp;&nbsp;esha_value * weight_recency(<span class="code-string">"2024"</span>) +<br>
                        &nbsp;&nbsp;regional_db_value * weight_geographic_relevance(user_location)<br>
                        ) / total_weight<br>
                        <br>
                        <span class="code-comment"># Then apply cooking, season, and bioavailability adjustments</span><br>
                        final_value = apply_cooking_losses(nutrient_value, <span class="code-string">"steamed"</span>)<br>
                        final_value = apply_seasonal_adjustment(final_value, current_month)<br>
                        final_value = apply_bioavailability(final_value, meal_context)
                    </div>
                    
                    <p>This is logistics thinking: multiple suppliers (databases), quality weighting, condition adjustments.</p>
                    
                    <h2 id="stage3-load">Stage 3: Load - Local SQLAlchemy Persistence</h2>
                    
                    <p>All normalized data lands in your local SQLAlchemy database. This is your personal "health warehouse."</p>
                    
                    <div class="code-block">
                        <span class="code-comment"># The Engineering Reality: Local Data Sovereignty</span><br>
                        <span class="code-comment"># We use SQLAlchemy to ensure your data stays in your 'Local Warehouse'</span><br>
                        <span class="code-keyword">from</span> sqlalchemy <span class="code-keyword">import</span> create_engine<br>
                        <span class="code-keyword">from</span> vita_models <span class="code-keyword">import</span> Base<br>
                        <br>
                        <span class="code-comment"># Local-first Database Connection</span><br>
                        engine = create_engine(<span class="code-string">'sqlite:///my_vita_data.db'</span>)<br>
                        Base.metadata.create_all(engine)<br>
                        <span class="code-comment"># This is where your physical transformation history lives—not on our servers.</span>
                    </div>
                    
                    <h3>The Database Schema (init.sql)</h3>
                    <p>Your local warehouse structure:</p>
                    
                    <div class="code-block">
                        <span class="code-comment"># init.sql - Your local health warehouse schema</span><br>
                        <span class="code-keyword">CREATE TABLE</span> meals (<br>
                        &nbsp;&nbsp;id <span class="code-keyword">INTEGER</span> PRIMARY KEY,<br>
                        &nbsp;&nbsp;timestamp <span class="code-keyword">DATETIME</span>,<br>
                        &nbsp;&nbsp;raw_input <span class="code-keyword">TEXT</span>,<br>
                        &nbsp;&nbsp;normalized_items <span class="code-keyword">JSONB</span>,  <span class="code-comment">-- Engineered normalization results</span><br>
                        &nbsp;&nbsp;confidence_scores <span class="code-keyword">JSONB</span>,  <span class="code-comment">-- Per-nutrient certainty</span><br>
                        &nbsp;&nbsp;metadata <span class="code-keyword">JSONB</span>  <span class="code-comment">-- Cooking method, season, adjustments</span><br>
                        );<br>
                        <br>
                        <span class="code-keyword">CREATE TABLE</span> nutrient_history (<br>
                        &nbsp;&nbsp;user_id <span class="code-keyword">INTEGER</span>,<br>
                        &nbsp;&nbsp;date <span class="code-keyword">DATE</span>,<br>
                        &nbsp;&nbsp;total_protein <span class="code-keyword">REAL</span>,<br>
                        &nbsp;&nbsp;total_carbs <span class="code-keyword">REAL</span>,<br>
                        &nbsp;&nbsp;total_fat <span class="code-keyword">REAL</span>,<br>
                        &nbsp;&nbsp;micronutrients <span class="code-keyword">JSONB</span>  <span class="code-comment">-- All 27 essential vitamins/minerals</span><br>
                        );
                    </div>
                    
                    <h3>The Local Query Interface</h3>
                    <p>Your data, your queries:</p>
                    
                    <div class="code-block">
                        <span class="code-comment"># Query your local warehouse like a logistics dashboard</span><br>
                        <span class="code-keyword">SELECT</span> date,<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AVG(<span class="code-keyword">JSON_EXTRACT</span>(micronutrients, <span class="code-string">'$.iron'</span>)) as avg_iron,<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AVG(<span class="code-keyword">JSON_EXTRACT</span>(micronutrients, <span class="code-string">'$.vitamin_c'</span>)) as avg_vitamin_c<br>
                        <span class="code-keyword">FROM</span> nutrient_history<br>
                        <span class="code-keyword">WHERE</span> date >= date(<span class="code-string">'now'</span>, <span class="code-string">'-30 days'</span>)<br>
                        <span class="code-keyword">GROUP BY</span> date;
                    </div>
                    
                    <div class="highlight-box">
                        <h4>Why SQLAlchemy Matters</h4>
                        <p>Other apps use cloud databases they control. We use SQLAlchemy because:</p>
                        <p><strong>1. Local sovereignty:</strong> Your data never leaves your device</p>
                        <p><strong>2. Portability:</strong> You can export, analyze, or migrate your data anytime</p>
                        <p><strong>3. Transparency:</strong> The schema is open—you know exactly what we store</p>
                        <p><strong>4. Performance:</strong> Local queries are instant, no network latency</p>
                    </div>
                    
                    <h2 id="privacy-design">Privacy by Engineering Design</h2>
                    
                    <p>Privacy isn't a feature—it's an architectural requirement from Day 1:</p>
                    
                    <div class="figure-container">
                        <div style="max-width: 600px; margin: 0 auto; background-color: rgba(45, 115, 111, 0.05); border-radius: var(--radius-md); padding: var(--space-md);">
                            <h3 style="text-align: center; color: var(--primary); margin-top: 0;">Engineering Trade-Offs: Honest Phase 1</h3>
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Component</th>
                                        <th>Current (Phase 1)</th>
                                        <th>Roadmap (2027)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Speech Processing</strong></td>
                                        <td>100% local</td>
                                        <td>100% local</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Entity Extraction</strong></td>
                                        <td>Anonymous Bridge</td>
                                        <td>100% local LLM</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Normalization</strong></td>
                                        <td>100% local</td>
                                        <td>100% local</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Storage</strong></td>
                                        <td>Local SQLAlchemy</td>
                                        <td>Local SQLAlchemy</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="figure-caption">We're transparent about what's local now vs. what's coming</p>
                    </div>
                    
                    <h3>The Stateless Parser Principle</h3>
                    <p>Every request is independent. No session tracking, no conversation history, no user profiling.</p>
                    
                    <div class="code-block">
                        <span class="code-comment"># Stateless parsing - no memory of previous interactions</span><br>
                        <span class="code-keyword">class</span> <span class="code-function">StatelessParser</span>:<br>
                        &nbsp;&nbsp;<span class="code-keyword">def</span> <span class="code-function">parse</span>(<span class="code-keyword">self</span>, text):<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-comment"># No access to previous inputs</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-comment"># No user context stored between calls</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-comment"># Each request stands alone</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">return</span> extract_entities(text)
                    </div>
                    
                    <h2 id="performance-results">The Proof: From 99% Performance to Engineering</h2>
                    
                    <p>Why does this engineering approach matter? Because it works. I used these systems to reach top 1% sports metrics (VO2 max, strength-to-weight, recovery). Not through genetics—through precision.</p>
                    
                    <div class="highlight-box">
                        <h4>The Personal Experiment</h4>
                        <p>For 12 months, I treated my body as a complex system:</p>
                        <p><strong>Input tracking:</strong> Every nutrient, adjusted for cooking and season</p>
                        <p><strong>Output measurement:</strong> Performance metrics, recovery times, biomarkers</p>
                        <p><strong>System optimization:</strong> Adjusting inputs to maximize outputs</p>
                        <p>The result? Consistently outperforming 99% of people in measured sports metrics. This isn't marketing—it's systems engineering applied to biology.</p>
                    </div>
                    
                    <h3>Accuracy Benchmarks</h3>
                    <p>Against laboratory analysis of prepared meals:</p>
                    
                    <div class="code-block">
                        <span class="code-comment"># Our validation methodology</span><br>
                        validation_results = {<br>
                        &nbsp;&nbsp;<span class="code-string">'calories'</span>: {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-string">'traditional_apps'</span>: <span class="code-number">0.75</span>,  <span class="code-comment"># 75% accuracy</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-string">'vita_normalized'</span>: <span class="code-number">0.94</span>   <span class="code-comment"># 94% accuracy</span><br>
                        &nbsp;&nbsp;},<br>
                        &nbsp;&nbsp;<span class="code-string">'iron_bioavailability'</span>: {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-string">'traditional_apps'</span>: <span class="code-number">0.52</span>,<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-string">'vita_normalized'</span>: <span class="code-number">0.88</span><br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                    
                    <h2 id="hardware-roadmap">Hardware Roadmap: Engineering the Future</h2>
                    
                    <p>Our 2027 goal: custom hardware running everything locally.</p>
                    
                    <div class="highlight-box">
                        <h4>The Engineering Timeline</h4>
                        <p><strong>2025 (Now):</strong> Web interface + Anonymous Bridge + Local SQLAlchemy</p>
                        <p><strong>2026:</strong> Local LLM container (Mistral 7B) for 90% of queries</p>
                        <p><strong>2027:</strong> Custom ASIC for 100% local nutrient extraction</p>
                        <p>We're building hardware because privacy should be physical. When the encryption keys are burned into silicon at the factory, privacy becomes a property of the device, not just software.</p>
                    </div>
                    
                    <h2 id="conclusion">The Logistics of Human Performance</h2>
                    
                    <p>Nutrition tracking has been broken because it's been approached by marketers, not engineers. The result? Apps that harvest your data while giving you inaccurate numbers.</p>
                    
                    <blockquote>
                        "We're building VITA because after optimizing warehouse logistics, I realized the human body is just another complex system. And complex systems need precise inputs, accurate sensors, and local control. That's what we're delivering—no bullshit, just engineering."
                    </blockquote>
                    
                    <p>The Anonymous Bridge is our honest Phase 1. The Nutrient Normalization Engine is our year of nutrient science. The Local SQLAlchemy persistence is our commitment to data sovereignty. The 2027 hardware is our plan to make privacy physical.</p>
                    
                    <p>This isn't another health app. It's a systems engineering approach to human performance. And it works because logistics works—whether you're moving boxes in a warehouse or molecules in a body.</p>
                </article>
                
                <!-- Article Navigation -->
                <div class="article-navigation">
                    <a href="article-local-storage.html" class="nav-item nav-prev">
                        <i class="fas fa-arrow-left nav-arrow"></i>
                        <div>
                            <div class="nav-label">Previous Article</div>
                            <div class="nav-title">Why Local Storage is the Future of Personal Health</div>
                        </div>
                    </a>
                    <a href="article-micronutrients.html" class="nav-item nav-next">
                        <div>
                            <div class="nav-label">Next Article</div>
                            <div class="nav-title">Beyond Calorie Counting: Tracking Micronutrients in Real-Time</div>
                        </div>
                        <i class="fas fa-arrow-right nav-arrow"></i>
                    </a>
                </div>
            </div>
            
            <!-- Article Sidebar -->
            <div class="article-sidebar">
                <!-- Author Card -->
                <div class="sidebar-section">
                    <h3>Written by</h3>
                    <div class="author-card">
                        <div class="author-avatar">MD</div>
                        <div class="author-info">
                            <h4>Ahmed Souli</h4>
                            <p>Founder & CEO of VITA Devices</p>
                        </div>
                    </div>
                    <p style="font-size: 0.9rem; margin-top: var(--space-sm); color: var(--text-secondary);">
                        2 years in autonomous robotics, 1 year in warehouse logistics automation. Applied systems engineering to human biology, reaching top 1% sports performance. Spent a year mastering nutrient science to build this.
                    </p>
                </div>
                
                <!-- Table of Contents -->
                <div class="sidebar-section">
                    <h3>In this article</h3>
                    <ul class="toc">
                        <li><a href="#logistics-biology">From Warehouse Logistics to Biological Optimization</a></li>
                        <li><a href="#the-pipeline">The VITA ETL Pipeline</a></li>
                        <li><a href="#stage1-extract">Stage 1: The Anonymous Bridge Protocol</a></li>
                        <li><a href="#stage2-transform">Stage 2: Nutrient Normalization Engine</a></li>
                        <li><a href="#stage3-load">Stage 3: Local SQLAlchemy Persistence</a></li>
                        <li><a href="#privacy-design">Privacy by Engineering Design</a></li>
                        <li><a href="#performance-results">The Proof: 99% Performance</a></li>
                        <li><a href="#hardware-roadmap">Hardware Roadmap: Engineering the Future</a></li>
                        <li><a href="#conclusion">The Logistics of Human Performance</a></li>
                    </ul>
                </div>
                
                <!-- Share Buttons -->
                <div class="sidebar-section">
                    <h3>Share this article</h3>
                    <div class="share-buttons">
                        <button class="share-btn twitter" onclick="shareArticle('twitter')">
                            <i class="fab fa-twitter"></i>
                        </button>
                        <button class="share-btn linkedin" onclick="shareArticle('linkedin')">
                            <i class="fab fa-linkedin-in"></i>
                        </button>
                        <button class="share-btn link" onclick="copyArticleLink()">
                            <i class="fas fa-link"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Newsletter -->
                <div class="sidebar-section">
                    <h3>Get more like this</h3>
                    <p style="font-size: 0.9rem; margin-bottom: var(--space-sm); color: var(--text-secondary);">
                        Engineering-focused articles on systems design, robotics principles applied to health, and building VITA with radical transparency.
                    </p>
                    <form class="newsletter-form" onsubmit="subscribeNewsletter(event)">
                        <input type="email" placeholder="Your email" required>
                        <button type="submit">Subscribe</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop" aria-label="Back to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Newsletter Section -->
    <section class="newsletter-section">
        <div class="container">
            <div class="newsletter-content">
                <h2>Join the Engineering-First Health Movement</h2>
                <p>Get weekly articles on systems engineering applied to human biology. No marketing fluff—just technical transparency about building VITA.</p>
                <form class="newsletter-form" onsubmit="subscribeNewsletter(event)">
                    <input type="email" placeholder="Your email address" required>
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div>
                    <div class="footer-logo">VITA</div>
                    <p style="color: rgba(255, 255, 255, 0.8); max-width: 300px; font-size: 0.95rem;">
                        Personal Health Intelligence for Your Home
                    </p>
                </div>
                <div class="footer-links">
                    <a href="../index.html">Home</a>
                    <a href="../blog.html">Blog</a>
                    <a href="../contact.html">Contact</a>
                    <a href="../privacy.html">Privacy</a>
                </div>
            </div>
            <div class="footer-copyright">
                © VITA Devices | Designed in Europe | Building in Public since 2024
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu functionality
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            mobileNav.classList.toggle('active');
        }
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            const mobileNav = document.getElementById('mobileNav');
            const toggleBtn = document.querySelector('.mobile-menu-toggle');
            
            if (!mobileNav.contains(e.target) && !toggleBtn.contains(e.target)) {
                mobileNav.classList.remove('active');
            }
        });
        
        // Track article views
        document.addEventListener('DOMContentLoaded', function() {
            // Simulate view count (in production, this would come from your analytics)
            const viewCount = document.getElementById('viewCount');
            const baseViews = 625;
            const randomIncrement = Math.floor(Math.random() * 30);
            viewCount.textContent = `${(baseViews + randomIncrement).toLocaleString()} views`;
            
            // Initialize back to top button
            const backToTopButton = document.getElementById('backToTop');
            
            // Show/hide back to top button based on scroll position
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopButton.classList.add('visible');
                } else {
                    backToTopButton.classList.remove('visible');
                }
            });
            
            // Back to top functionality
            backToTopButton.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            // Smooth scrolling for table of contents links
            document.querySelectorAll('.toc a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove the hash from the href and get the target id
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        // Calculate position with offset for fixed header
                        const headerOffset = 80;
                        const elementPosition = targetElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                        
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Set up share buttons with real URLs
            setupShareButtons();
        });
        
        // Share functionality
        function setupShareButtons() {
            // Current page URL and title
            const pageUrl = encodeURIComponent(window.location.href);
            const pageTitle = encodeURIComponent(document.title);
            const pageDescription = encodeURIComponent("Applying Industrial ETL to Personal Health: The VITA Pipeline");
            
            // Twitter share URL
            const twitterUrl = `https://twitter.com/intent/tweet?text=${pageTitle}&url=${pageUrl}&hashtags=Robotics,Engineering,HealthTech`;
            
            // LinkedIn share URL
            const linkedinUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}`;
            
            // Store URLs in data attributes
            document.querySelector('.share-btn.twitter').dataset.shareUrl = twitterUrl;
            document.querySelector('.share-btn.linkedin').dataset.shareUrl = linkedinUrl;
        }
        
        function shareArticle(platform) {
            let shareUrl;
            
            if (platform === 'twitter') {
                shareUrl = document.querySelector('.share-btn.twitter').dataset.shareUrl;
            } else if (platform === 'linkedin') {
                shareUrl = document.querySelector('.share-btn.linkedin').dataset.shareUrl;
            }
            
            if (shareUrl) {
                window.open(shareUrl, '_blank', 'width=600,height=400');
            }
        }
        
        function copyArticleLink() {
            const url = window.location.href;
            
            // Use the Clipboard API if available
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(url).then(() => {
                    showNotification('Link copied to clipboard!');
                }).catch(err => {
                    console.error('Failed to copy: ', err);
                    fallbackCopyTextToClipboard(url);
                });
            } else {
                fallbackCopyTextToClipboard(url);
            }
        }
        
        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showNotification('Link copied to clipboard!');
                } else {
                    showNotification('Failed to copy link.');
                }
            } catch (err) {
                console.error('Fallback copy failed: ', err);
                showNotification('Failed to copy link.');
            }
            
            document.body.removeChild(textArea);
        }
        
        function showNotification(message) {
            // Remove any existing notification
            const existingNotification = document.querySelector('.copy-notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            // Create notification
            const notification = document.createElement('div');
            notification.className = 'copy-notification';
            notification.innerHTML = `
                <div style="position: fixed; top: 20px; right: 20px; background-color: var(--primary); color: white; padding: 1rem 1.5rem; border-radius: var(--radius-md); z-index: 3000; box-shadow: 0 4px 12px rgba(0,0,0,0.15); font-size: 0.9rem; display: flex; align-items: center; gap: 0.75rem;">
                    <i class="fas fa-check-circle"></i>
                    <span>${message}</span>
                </div>
            `;
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        // Newsletter subscription
        function subscribeNewsletter(event) {
            event.preventDefault();
            const emailInput = event.target.querySelector('input[type="email"]');
            const email = emailInput.value;
            
            // Basic validation
            if (!email || !email.includes('@')) {
                showNotification('Please enter a valid email address.');
                return;
            }
            
            // In a real implementation, this would connect to your newsletter service
            showNotification(`Thank you! You've subscribed with: ${email}`);
            emailInput.value = '';
            
            // Here you would typically send the email to your backend
            console.log('Newsletter subscription:', email);
        }
    </script>
</body>
</html>